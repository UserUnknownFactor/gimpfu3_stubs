<!--
SPDX-FileCopyrightText: 2021 GNOME Foundation

SPDX-License-Identifier: Apache-2.0 OR GPL-3.0-or-later
-->

<!--
SPDX-FileCopyrightText: 2021 GNOME Foundation

SPDX-License-Identifier: Apache-2.0 OR GPL-3.0-or-later
-->

<!DOCTYPE html>
<html lang="en">
<head>
  <title>Gimp.ProcedureConfig.begin_export</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta charset="utf-8" />

  
  <meta property="og:type" content="website"/>

  
  <meta property="og:image:width" content="256"/>
  <meta property="og:image:height" content="256"/>
  <meta property="og:image:secure_url" content="../images/gimp-devel-logo.png"/>
  <meta property="og:image:alt" content="Gimp-3.0"/>
  

  
  <meta priority="og:title" content="Gimp.ProcedureConfig.begin_export"/>
  <meta priority="og:description" content="Reference for Gimp.ProcedureConfig.begin_export"/>
  <meta name="twitter:title" content="Gimp.ProcedureConfig.begin_export"/>
  <meta name="twitter:description" content="Reference for Gimp.ProcedureConfig.begin_export"/>


  
  <meta name="twitter:card" content="summary"/>

  
  
  
  

  <link rel="stylesheet" href="style.css" type="text/css" />

  

  
  <script src="urlmap.js"></script>
  
  
  <script src="fzy.js"></script>
  <script src="search.js"></script>
  
  <script src="main.js"></script>
  <!--[if IE]><script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
</head>

<body>
  <div id="body-wrapper" tabindex="-1">

    <nav class="sidebar devhelp-hidden">
      
      <div class="section">
        <img src="../images/gimp-devel-logo.png" class="logo"/>
      </div>
      
      
      <div class="search section">
        <form id="search-form" autocomplete="off">
          <input id="search-input" type="text" name="do-not-autocomplete" placeholder="Click, or press 's' to search" autocomplete="off"/>
        </form>
      </div>
      
      <div class="section namespace">
        <h3><a href="index.html">Gimp</a></h3>
        <p>API Version: 3.0</p>
        
        <p>Library Version: 2.99.13</p>
        
      </div>
      
<div class="section">
  <h5>Type</h5>
  <div class="links">
    <a href="class.ProcedureConfig.html">ProcedureConfig</a>
  </div>
</div>
<div class="section">
  <h5>Methods</h5>
  <div class="links">
  
    <a class="method current" href="method.ProcedureConfig.begin_export.html">begin_export</a>
  
    <a class="method" href="method.ProcedureConfig.begin_run.html">begin_run</a>
  
    <a class="method" href="method.ProcedureConfig.end_export.html">end_export</a>
  
    <a class="method" href="method.ProcedureConfig.end_run.html">end_run</a>
  
    <a class="method" href="method.ProcedureConfig.get_procedure.html">get_procedure</a>
  
    <a class="method" href="method.ProcedureConfig.get_values.html">get_values</a>
  
    <a class="method" href="method.ProcedureConfig.save_metadata.html">save_metadata</a>
  
    <a class="method" href="method.ProcedureConfig.set_values.html">set_values</a>
  
  </div>
</div>

    </nav>
    
    <button id="btn-to-top" class="hidden"><span class="up-arrow"></span></button>

    
<section id="main" class="content">
  <header>
    <h3>Method</h3>
    <h1><a href="index.html">Gimp</a><span class="sep"></span><a href="class.ProcedureConfig.html">ProcedureConfig</a><span class="sep"></span>begin_export</h1>
  </header>

  <section>
    <div class="declaration toggle-wrapper">
      <h4 style="display:flex;" id="declaration">
        Declaration
        <a class="anchor" href="#declaration"></a>
        
        <a class="srclink" title="go to source location" href="https://gitlab.gnome.org/GNOME/gimp/-/blob/master/libgimp/gimpprocedureconfig.h#L86">[src]</a>
        
      </h4>

      <div class="docblock c-decl">
        <pre><code><div class="highlight"><pre><span></span><span class="n">GimpMetadata</span><span class="o">*</span><span class="w"></span>
<span class="n">gimp_procedure_config_begin_export</span><span class="w"> </span><span class="p">(</span><span class="w"></span>
<span class="w">  </span><span class="n">GimpProcedureConfig</span><span class="o">*</span><span class="w"> </span><span class="n">config</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="n">GimpImage</span><span class="o">*</span><span class="w"> </span><span class="n">original_image</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="n">GimpRunMode</span><span class="w"> </span><span class="n">run_mode</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">GimpValueArray</span><span class="o">*</span><span class="w"> </span><span class="n">args</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">gchar</span><span class="o">*</span><span class="w"> </span><span class="n">mime_type</span><span class="w"></span>
<span class="p">)</span><span class="w"></span>
</pre></div>
</code></pre>
      </div>
    </div>

    <div class="description toggle-wrapper">
      <h4 style="display:flex;" id="description">
        Description
        <a class="anchor" href="#description"></a>
        
        <a class="srclink" title="go to source location" href="https://gitlab.gnome.org/GNOME/gimp/-/blob/master/libgimp/gimpprocedureconfig.c#L653">[src]</a>
        
      </h4>

      <div class="docblock">
        <p>This is a variant of <a href="method.ProcedureConfig.begin_run.html"><code>gimp_procedure_config_begin_run()</code></a> to be used
by file export procedures using <a href="class.SaveProcedure.html"><code>GimpSaveProcedure</code></a>. It must be
paired with a call to <a href="method.ProcedureConfig.end_export.html"><code>gimp_procedure_config_end_export()</code></a> at the end
of&nbsp;run().</p>
<p>It does everything <a href="method.ProcedureConfig.begin_run.html"><code>gimp_procedure_config_begin_run()</code></a> does but
provides additional features to automate file&nbsp;export:</p>
<p>If <code>mime_type</code> is non-<code>NULL</code>, exporting metadata is handled
automatically, by calling <a href="method.Image.metadata_save_prepare.html"><code>gimp_image_metadata_save_prepare()</code></a> and
syncing its returned <a href="flags.MetadataSaveFlags.html"><code>GimpMetadataSaveFlags</code></a> with <code>config</code><span class="quo">&#8216;</span>s
properties. (The corresponding <a href="method.Image.metadata_save_finish.html"><code>gimp_image_metadata_save_finish()</code></a>
will be called by <a href="method.ProcedureConfig.end_export.html"><code>gimp_procedure_config_end_export()</code></a>).</p>
<p>The following boolean arguments of the used <a href="class.SaveProcedure.html"><code>GimpSaveProcedure</code></a> are
synced. The procedure can but must not provide these&nbsp;arguments.</p>
<ul>
<li><span class="dquo">&#8220;</span>save-exif&#8221; for <code>GIMP_METADATA_SAVE_EXIF</code>.</li>
<li><span class="dquo">&#8220;</span>save-xmp&#8221; for <code>GIMP_METADATA_SAVE_XMP</code>.</li>
<li><span class="dquo">&#8220;</span>save-iptc&#8221; for <code>GIMP_METADATA_SAVE_IPTC</code>.</li>
<li><span class="dquo">&#8220;</span>save-thumbnail&#8221; for <code>GIMP_METADATA_SAVE_THUMBNAIL</code>.</li>
<li><span class="dquo">&#8220;</span>save-color-profile&#8221; for <code>GIMP_METADATA_SAVE_COLOR_PROFILE</code>.</li>
<li><span class="dquo">&#8220;</span>save-comment&#8221; for <code>GIMP_METADATA_SAVE_COMMENT</code>.</li>
</ul>
<p>The values from the <a href="flags.MetadataSaveFlags.html"><code>GimpMetadataSaveFlags</code></a> will only ever be used
to set these properties to <code>FALSE</code>, overriding the user&#8217;s saved
default values for the procedure, but <span class="caps">NOT</span> overriding the last used
values from exporting <code>original_image</code> or the last used values from
exporting any other image using this&nbsp;procedure.</p>
<p>If <code>mime_type</code> is <code>NULL</code>, <a href="class.Metadata.html"><code>GimpMetadata</code></a> handling is skipped. The
procedure can still have all of the above listed boolean arguments,
but must take care of their default values itself. The easiest way
to do this is by simply using <a href="func.export_comment.html"><code>gimp_export_comment()</code></a>, <a href="func.export_exif.html"><code>gimp_export_exif()</code></a> etc.
as default values for these arguments when adding them using
GIMP_PROC_ARG_BOOLEAN() or&nbsp;GIMP_PROC_AUX_ARG_BOOLEAN().</p>
      </div>

      <div class="docblock">
        <table>
          
          
          <tr><td>Available since:</td><td>3.0</td></tr>
          
          
          
          
          
        </table>
      </div>

      
    </div>

    
    <div class="parameters toggle-wrapper">
      <h4 id="parameters">
        Parameters
        <a href="#parameters" class="anchor"></a>
      </h4>

      <div class="docblock">
        <table class="arguments">
          
          <tr class="arg-name">
            <td><code>original_image</code></td>
            <td><a href="class.Image.html"><code>GimpImage</code></a></td>
          </tr>
          <tr class="arg-description">
            <td>&nbsp;</td>
            <td><p>The image passed to <code>run()</code></p></td>
          </tr>
          
          
          
          
          
          
          
          <tr><td>&nbsp;</td><td title="transfer: none">The data is owned by the caller of the function.</td></tr>
          
          
          <tr class="arg-name">
            <td><code>run_mode</code></td>
            <td><a href="enum.RunMode.html"><code>GimpRunMode</code></a></td>
          </tr>
          <tr class="arg-description">
            <td>&nbsp;</td>
            <td><p>The <code>GimpRunMode</code> passed to a <a href="class.Procedure.html"><code>GimpProcedure</code></a>&#8216;s <code>run()</code></p></td>
          </tr>
          
          
          
          
          
          
          
          
          
          
          <tr class="arg-name">
            <td><code>args</code></td>
            <td><a href="struct.ValueArray.html"><code>GimpValueArray</code></a></td>
          </tr>
          <tr class="arg-description">
            <td>&nbsp;</td>
            <td><p>The value array passed to a <a href="class.Procedure.html"><code>GimpProcedure</code></a>&#8216;s <code>run()</code></p></td>
          </tr>
          
          
          
          
          
          
          
          <tr><td>&nbsp;</td><td title="transfer: none">The data is owned by the caller of the function.</td></tr>
          
          
          <tr class="arg-name">
            <td><code>mime_type</code></td>
            <td><code>const gchar*</code></td>
          </tr>
          <tr class="arg-description">
            <td>&nbsp;</td>
            <td><p>Exported file format&#8217;s mime type, or <code>NULL</code>.</p></td>
          </tr>
          
          <tr><td>&nbsp;</td><td>The argument can be <code>NULL</code>.</td></tr>
          
          
          
          
          
          <tr><td>&nbsp;</td><td title="transfer: none">The data is owned by the caller of the function.</td></tr>
          <tr><td>&nbsp;</td><td>The value is a NUL terminated UTF-8 string.</td></tr>
          
          
        </table>
      </div>
    </div>
    

    
    <div class="return-value toggle-wrapper">
      <h4 id="return-value">
        Return value
        <a href="#return-value" class="anchor"></a>
      </h4>

      <div class="docblock">
        <table class="returns">
          <tr class="arg-name">
            <td>Returns:</td>
            <td><a href="class.Metadata.html"><code>GimpMetadata</code></a></td>
          </tr>
          <tr class="arg-description">
            <td>&nbsp;</td>
            <td><p>The metadata to be used
         for this export, or <code>NULL</code> if <code>original_image</code> doesn&#8217;t have&nbsp;metadata.</p></td>
          </tr>
          
          
          
          <tr><td>&nbsp;</td><td title="transfer: none">The data is owned by the instance.</td></tr>
          <tr><td>&nbsp;</td><td>The return value can be <code>NULL</code>.</td></tr>
          
        </table>
      </div>
    </div>
    

  </section>
</section>


    

    <section id="search" class="content hidden"></section>

    <footer>
    
    </footer>
  </div>
</body>
</html>